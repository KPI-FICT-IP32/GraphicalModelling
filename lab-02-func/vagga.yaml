containers:
  app:
    setup:
      - !Alpine v3.4
      - !Install
        - wget
        - ca-certificates
        - libzmq
        - musl-dev
        - freetype-dev
        - libpng-dev
        - ffmpeg
      - !Sh ln -s /usr/include/locale.h /usr/include/xlocale.h
      - !PipConfig
        dependencies: true
        python-exe: python3.5
      - !Py3Install
        - pip
        - pyzmq
        - jupyter
        - numpy
        - matplotlib
    volumes:
      /root: !Tmpfs
        size: 10M
        mode: 0o766

commands:
  run: !Command
    description: Run the ipython notebook
    container: app
    run:
      - jupyter
      - notebook
      - --matplotlib=inline
  freeze: !Command
    description: Freeze requirements into requirements.txt
    container: app
    run: pip freeze > requirements.txt
#  vim: set ts=2 sw=2 tw=0 et :
